{
  "hash": "9f38baf46efd407a7dad83835d93457d",
  "result": {
    "markdown": "---\ntitle: \"Problem Set 2\"\nsubtitle: \"Due Friday Sep. 16, 10 am\"\nformat:\n  pdf:\n    documentclass: article\n    margin-left: 30mm\n    margin-right: 30mm\n    toc: false\n  html:\n    theme: cosmo\n    css: ../styles.css\n    toc: false\n    code-copy: true\n    code-block-background: true\nexecute:\n  freeze: auto\n---\n\n\n\n## Comments\n\n- This covers material in Units 3 and 4.\n- It's due at 10 am (Pacific) on September 16, both submitted as a PDF to Gradescope as well as committed to your GitHub repository.\n- Please see PS1 for formatting and attribution requirements.\n- Note that using chunks of bash code in Rmd/Rtex/Rnw can sometimes be troublesome, particularly on Windows machine. Some things to try if you are having trouble:\n   1. set the terminal to be the Ubuntu subsystem if you are on Windows;\n   2. if using RStudio, you may only be able to run bash chunks if you have the notebook mode on;\n   3. using single versus double quotes in your Rmd/Rtex document may make a difference.\n\n   If you can't produce a PDF that includes the bash chunk output, feel free to not run those chunks and just paste in the output you get manually. Please post on the Ed forum if you have trouble.\n- You will probably need to use `sed` in a basic way as we have used it so far in class and in the bash tutorial. You should not need to use more advanced functionality nor should you need to use `awk`, but you may if you want to.\n\n## Problems\n\n1. Add assertions and testing for your code from Problem 4 of PS1. You may use a modified version of your PS1 solution, perhaps because you found errors in what you did or wanted to make changes based on Chris' solutions or your discussions with other students.\n   a. Add formal assertions using the `assertthat` package. You should try to catch the various incorrect inputs a user could provide and anything else that could go wrong (e.g., what happens if one is not online?).\n   b. Use the `testthat` package to set up a small but thoughtful set of tests of your functions. In deciding on your tests, try to think about tricky cases that might cause problems.\n\n2. A friend of mine is planning to get married in Death Valley National\n    Park in March (this problem is based on real events...). She\n    wants to hold it as late in March as possible but without having a\n    high chance of a very hot day. This problem will automate the task\n    of generating information about what day to hold the wedding on\n    using data from the [Global Historical Climatology Network](https://www1.ncdc.noaa.gov/pub/data/ghcn/daily/by_year).\n    All of your operations should be done using the bash shell except\n    part (c). Also, ALL of your work should be done using shell commands\n    that you save in your solution file. So you can't say \"I downloaded\n    the data from such-and-such website\" or \"I unzipped the file\"; you\n    need to give us the bash code that we could run to repeat what you\n    did. This is partly for practice in writing shell code and partly to\n    enforce the idea that your work should be reproducible and\n    documented.\n\n    1.  Download yearly climate data for a set of years of interest into\n        a temporary directory. Do\n        not download all the years and feel free to focus on a small\n        number of years to reduce the amount of data you need to\n        download. Note that data for Death Valley is only present in the\n        last few decades. As you are processing the files, report the\n        number of observations in each year by printing the information\n        to the screen, including if there are no observations for that\n        year.\n\n    2.  Subset to the station corresponding to Death Valley, to TMAX\n        (maximum daily temperature), and to March, and put all the data\n        into a single file. In subsetting to Death Valley, get the\n        information programmatically from the *ghcnd-stations.txt* file\n        one level up in the website. Do NOT type in the station ID code\n        when you retrieve the Death Valley data from the yearly files.\n\n    3.  Create an R or Python chunk that takes as input your single file from (b)\n        and makes a single plot of side-by-side boxplots containing the\n        maximum daily temperatures on each calendar day in March.\n\n    4.  Now generalize your code from parts (a) and (b). Write a shell\n        function that takes as arguments a string for identifying the\n        location, the weather variable of interest, and the time period\n        (i.e., the years of interest and the month of interest), and\n        returns the results. Your function should detect if the user\n        provides the wrong number of arguments or a string that doesn't\n        allow one to identify a single weather station and return a\n        useful error message. It should also give useful help\n        information if the user invokes the function as: `get_weather -h`. Finally the function should remove the raw downloaded data\n        files (or you should download into your operating system's temporary file location). Hint: to check for equality in an if statement, you generally\n        need syntax like: `if [ \"${var}\" == \"7\" ]`.\n\n3. On Friday, September 16, Section will consist of a discussion of\n    good practices in reproducible research and computing. In\n    preparation, please do the following:\n    a.  Read **one** of these five items (you can read more if you want\n        of course!):\n        1.  The Preface, the Basic Reproducible Workflow Template\n            chapter and Lessons Learned chapters of this\n            Berkeley-produced book on reproducible research, found\n            online via UC Library search: [The Practice of Reproducible\n            Research](https://www.degruyter.com/document/doi/10.1525/9780520967779/html#contents). The book is written from the perspective of learning about reproducibility practices using case studies\n        2.  This article is written from the perspective of scientific research: [Millman and Perez](https://www.taylorfrancis.com/chapters/edit/10.1201/9781315373461-6/developing-open-source-scientific-practice-jarrod-millman-fernando-p%C3%A9rez).\n        3.  This article is written from the perspective of scientific software development: [Wilson et.al.](https://arxiv.org/pdf/1210.0530v3.pdf)\n        4.  This article is written from the perspective of social science research:  [Chapter 11 of Christensen et al. Transparent and\n            Reproducible Social Science Research](https://bcourses.berkeley.edu/files/81180857). (You can also see the [entire book online via UC Library\n            search](https://california.degruyter.com/view/title/568658?tab_body=toc>.)\n        5.  This article is also written from the perspective of social science research: [Gentzkow and Shapiro](https://web.stanford.edu/~gentzkow/research/CodeAndData.pdf).\n\n        When reading, please think about the following questions:\n\n        1.  Are there practices suggested that seem particularly\n            compelling to you? What about ones that don't seem\n            compelling to you?\n        2.  Do you currently use any of the practices described? Which\n            ones, and why? Which ones do you not use and why (apart from\n            just not being aware of them)?\n        3.  Why don't researchers consistently utilize these\n            principles/tools? Which ones might be the most/least used?\n            Which ones might be the easiest/most difficult to implement?\n        4.  What principles and practices described apply more to\n            analyses of data, and which apply more to software\n            engineering? Which principles and practices apply to both?\n\n        As your answer to this problem, please write a paragraph or two\n        where you discuss one or more of these questions. I'm not\n        looking for more than 10-15 sentences, just evidence that you've\n        read one of the items and considered it thoughtfully.\n\n    b.  Please skim through [this economics paper](https://journals.sagepub.com/doi/full/10.1177/0042098016668783), focusing on the Method section, but note that the idea is\n        just to get the main idea of the analysis steps, not to\n        understand the context fully or see all the details. Then look\n        at the [code the authors provide](https://github.com/andykrause/hhLocation) and think about\n        whether that code makes it easy to reproduce what they did in\n        the paper. Based on the Unit 4 class notes and the item you read above\n        in (a), make a short list of strengths and weaknesses of the\n        reproducibility of the authors' materials and provide that as\n        your solution to this problem. Your task in Section on Friday,\n        September 16 will be to discuss with your group and in Section\n        as a whole and come up with a consensus answer.\n        Some things to think about when you look at their materials:\n\n        1.  From the information above and the documentation provided,\n            can you quickly identify where in the code (if present at\n            all) the authors:\n            1.  collected their data,\n            2.  cleaned/processed their data,\n            3.  calculated various statistics, and\n            4.  produced the plots in their paper.\n        2.  In terms of coding what elements of their project do you\n            like? Consider: Documentation, comments, organization,\n            naming, workflow, data provenance, etc.\n        3.  Similarly, what do you think could be improved?\n        4.  Without examining the code itself, can you quickly discern\n            the purpose of each file?\n        5.  Without examining the code in detail, can you quickly tell\n            what each block of code does?\n        6.  Are there exceptions to your answers above?\n        7.  In what way do the authors document their workflow? Do you\n            think this method is effective?\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}